# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞ –∫–ª–∏–µ–Ω—Ç–∞–º —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞. –ú–∞—Å—Ç–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

1. **–ß–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–û—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É"** –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ —Å –∑–∞–ø—Ä–æ—Å–æ–º
2. **–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/reply`** —Å —É–∫–∞–∑–∞–Ω–∏–µ–º ID –∫–ª–∏–µ–Ω—Ç–∞

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –û—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É

–ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/request`, –º–∞—Å—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π "üí¨ –û—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É". –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É:

- –ë–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –º–∞—Å—Ç–µ—Ä–∞
- –ú–∞—Å—Ç–µ—Ä –≤–≤–æ–¥–∏—Ç —Å–≤–æ–π –æ—Ç–≤–µ—Ç
- –û—Ç–≤–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É
- –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### 2. –û—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É

–ú–∞—Å—Ç–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/reply` –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –ª—é–±–æ–º—É –∫–ª–∏–µ–Ω—Ç—É:

```
/reply <ID_–∫–ª–∏–µ–Ω—Ç–∞> [ID_–∑–∞–ø—Ä–æ—Å–∞]
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- `/reply 123456789` - –æ—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É —Å ID 123456789
- `/reply 123456789 5` - –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å #5 –∫–ª–∏–µ–Ω—Ç—É 123456789

### 3. –ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–≤–µ—Ç–∞

1. –ú–∞—Å—Ç–µ—Ä –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –∏–ª–∏ –≤–≤–æ–¥–∏—Ç –∫–æ–º–∞–Ω–¥—É
2. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ
3. –ú–∞—Å—Ç–µ—Ä –≤–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
4. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
5. –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `.env` —É–∫–∞–∑–∞–Ω ID —á–∞—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞:

```env
MASTER_CHAT_ID=your_master_chat_id
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

–ö–æ–º–∞–Ω–¥–∞ `/reply` –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä—É (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å ID, —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ `MASTER_CHAT_ID`).

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `master_replies` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤:

```sql
CREATE TABLE master_replies (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  request_id INTEGER NOT NULL,
  client_id INTEGER NOT NULL,
  master_id INTEGER NOT NULL,
  message TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (request_id) REFERENCES tattoo_requests (id),
  FOREIGN KEY (client_id) REFERENCES users (id)
);
```

## API

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ DatabaseService

- `saveMasterReply(reply)` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞
- `getMasterReplies(requestId)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
- `getTattooRequestById(requestId)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ ID

### –ù–æ–≤—ã–µ —Ç–∏–ø—ã

- `ReplySession` - —Å–µ—Å—Å–∏—è –æ—Ç–≤–µ—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞
- `MasterReply` - –æ—Ç–≤–µ—Ç –º–∞—Å—Ç–µ—Ä–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏:
- `masterId` - ID –º–∞—Å—Ç–µ—Ä–∞
- `clientId` - ID –∫–ª–∏–µ–Ω—Ç–∞
- `replyId` - ID –æ—Ç–≤–µ—Ç–∞
- `requestId` - ID –∑–∞–ø—Ä–æ—Å–∞ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å: `/request`
2. –ú–∞—Å—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π "üí¨ –û—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É"
3. –ú–∞—Å—Ç–µ—Ä –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É
4. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞"
5. –ú–∞—Å—Ç–µ—Ä –≤–≤–æ–¥–∏—Ç: "–ü—Ä–∏–≤–µ—Ç! –ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∏–¥–µ—è –¥–ª—è —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∏. –î–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º –¥–µ—Ç–∞–ª–∏."
6. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ—Ç–≤–µ—Ç–æ–º –º–∞—Å—Ç–µ—Ä–∞
7. –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/reply`
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∞—É–¥–∏—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ—Ç–≤–µ—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑—É
